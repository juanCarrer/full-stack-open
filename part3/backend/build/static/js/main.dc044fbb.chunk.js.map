{"version":3,"sources":["services/phonebook.js","components/Phonebook/Filter.js","components/Phonebook/PersonForm.js","components/Phonebook/Persons.js","components/Phonebook/Notification.js","App.js","index.js"],"names":["baseUrl","Filter","handleChange","onChange","PersonForm","handleSubmit","handleName","name","handleNumber","number","onSubmit","value","type","Persons","persons","updatePersons","handleClick","id","window","confirm","axios","delete","deletePerson","then","response","filter","item","catch","err","console","error","length","map","onClick","Notification","message","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","filterKeyword","setFilterkeyword","filteredPersons","setFilteredPersons","notificationMessage","setNotificationMessage","notificationError","setNotificationError","useEffect","get","data","errorMessage","Array","isArray","filtered","includes","updateNotificationMessage","newMessage","setTimeout","event","target","preventDefault","newData","existingPerson","find","put","log","post","newlist","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dc044fbb.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = 'https://blooming-earth-71059.herokuapp.com/api'\r\n\r\nexport const getAllPersons = () => {\r\n\t\r\n\treturn axios.get(`${baseUrl}/persons`)\r\n}\r\n\r\nexport const addPerson = (data) => {\r\n\treturn axios.post(`${baseUrl}/persons`, data)\r\n}\r\n\r\nexport const deletePerson = (id) => {\r\n\treturn axios.delete(`${baseUrl}/persons/${id}`)\r\n}\r\n\r\nexport const updatePerson = (id, newData) => {\r\n\treturn axios.put(`${baseUrl}/persons/${id}`, newData)\r\n}","export const Filter = ({ handleChange }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\tfilter shown with <input onChange={handleChange}/>\r\n\t\t</div>\r\n\t)\r\n}\r\n","export const PersonForm = ({ handleSubmit, handleName, name, handleNumber, number }) => {\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\tname: <input onChange={handleName} value={name}/>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\tnumber: <input onChange={handleNumber} value={number}/>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button type='submit'>add</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n}","import { deletePerson } from '../../services/phonebook'\r\n\r\nexport const Persons = ({ persons = [], updatePersons}) => {\r\n\r\n\tconst handleClick = (id, name) => {\r\n\t\tif (window.confirm(`delete ${name} ?`)) {\r\n\t\t\tdeletePerson(id)\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\tupdatePersons(persons.filter(item => item.id !== id))\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.error(err)\r\n\t\t\t\t})\r\n\t\t}\r\n \t}\r\n\r\n\tif (persons.length === 0) {\r\n\t\treturn <h3>no persons Found...</h3>\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t{\r\n\t\t\tpersons.map(item => (\r\n\t\t\t\t<div key={item.id}>\r\n\t\t\t\t\t{item.name} {item.number}\r\n\t\t\t\t\t<button onClick={() => { handleClick(item.id, item.name) }}>\r\n\t\t\t\t\t\tdelete\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t))\r\n\t\t}\r\n\t\t</div>\r\n\t)\r\n}","export const Notification = ({ message, error = false }) => {\r\n\tif (message === null) {\r\n\t\treturn null\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={`notification ${error ? 'notification--error' : 'notification--ok'}`}>\r\n\t\t\t<b>{message}</b>\r\n\t\t</div>\r\n\t)\r\n}","import React, { useState, useEffect } from 'react'\r\nimport { getAllPersons, addPerson, updatePerson } from './services/phonebook'\r\nimport { Filter } from './components/Phonebook/Filter'\r\nimport { PersonForm } from './components/Phonebook/PersonForm'\r\nimport { Persons } from './components/Phonebook/Persons'\r\nimport { Notification } from './components/Phonebook/Notification'\r\n\r\nconst App = () => {\r\n\tconst [persons, setPersons] = useState([])\r\n\tconst [newName, setNewName] = useState('')\r\n\tconst [newNumber, setNewNumber] = useState('')\r\n\tconst [filterKeyword, setFilterkeyword] = useState('')\r\n\tconst [filteredPersons, setFilteredPersons] = useState([])\r\n\tconst [notificationMessage, setNotificationMessage] = useState(null)\r\n\tconst [notificationError, setNotificationError] = useState(false)\r\n\r\n\tuseEffect(() => {\r\n\t\tgetAllPersons()\r\n\t\t\t.then(response => {\r\n\t\t\t\tsetPersons(response.data)\r\n\t\t\t})\r\n\t\t\t.catch(errorMessage => {\r\n\t\t\t\tconsole.error(errorMessage)\r\n\t\t\t}) \r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (persons.length === 0 || !Array.isArray(persons)) return\r\n\r\n\t\tconst filtered = persons.filter(({name}) => {\r\n\t\t\treturn name.includes(filterKeyword)\r\n\t\t})\r\n\t\tsetFilteredPersons(filtered)\r\n\t}, [persons, filterKeyword])\r\n\r\n\tconst updateNotificationMessage = (newMessage, error = false) => {\r\n\t\tif (error) {\r\n\t\t\tsetNotificationError(true)\r\n\t\t}\r\n\t\tsetNotificationMessage(newMessage)\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetNotificationMessage(null)\r\n\t\t\tsetNotificationError(false)\r\n\t\t}, 5000)\r\n\t}\r\n\r\n\tconst handleSubmit = (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tconst existingPerson = persons.find(item => item.name === newName)\r\n\t\t\r\n\t\tif (existingPerson) {\r\n\t\t\tif(window.confirm(`${existingPerson.name} is already added to phonebook, replace the old number with a new one`)) {\r\n\t\t\t\tupdatePerson(existingPerson.id, {...existingPerson, number: newNumber})\r\n\t\t\t\t\t.then(response => {\r\n\t\t\t\t\t\tconst { data } = response\r\n\t\t\t\t\t\tconsole.log(data)\r\n\t\t\t\t\t\tupdateNotificationMessage(`Updated number of ${data.name}`)\r\n\t\t\t\t\t\tsetPersons(persons.map(item => item.id === data.id ? data : item))\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tupdateNotificationMessage(`Information of ${existingPerson.name} has already been removed from server`, true)\r\n\t\t\t\t\t\tsetPersons(persons.filter(item => item.id !== existingPerson.id))\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tsetNewName('')\r\n\t\t\tsetNewNumber('')\r\n\t\t\treturn\r\n\t\t} \r\n\r\n\t\taddPerson({ name: newName, number: newNumber })\r\n\t\t\t.then(response => {\r\n\t\t\t\tupdateNotificationMessage(`Added ${response.data.name}`)\r\n\t\t\t\tsetPersons([...persons, response.data])\r\n\t\t\t})\r\n\t\t\t.catch(errorMessage => {\r\n\t\t\t\tconsole.error(errorMessage)\r\n\t\t\t})\r\n\t\tsetNewName('')\r\n\t\tsetNewNumber('')\r\n\t}\r\n\r\n\tconst handleNameChange = (event) => {\r\n\t\tsetNewName(event.target.value)\r\n\t}\r\n\r\n\tconst handleNumberChange = (event) => {\r\n\t\tsetNewNumber(event.target.value)\r\n\t}\r\n\r\n\tconst handleFilterkeywordChange = (event) => {\r\n\t\tsetFilterkeyword(event.target.value)\r\n\t}\r\n\r\n\tconst handleUpdatePersons = (newlist) => {\r\n\t\tsetPersons(newlist)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Phonebook</h2>\r\n\t\t\t<Notification message={notificationMessage} error={notificationError}/>\r\n\t\t\t<Filter handleChange={handleFilterkeywordChange} />\r\n\r\n\t\t\t<h2>Add a new</h2>\r\n\t\t\t\r\n\t\t\t<PersonForm\r\n\t\t\t\thandleSubmit={handleSubmit}\r\n\t\t\t\thandleName={handleNameChange}\r\n\t\t\t\tname={newName}\r\n\t\t\t\thandleNumber={handleNumberChange}\r\n\t\t\t\tnumber={newNumber}\r\n\t\t\t/>\r\n\r\n\t\t\t<h2>Numbers</h2>\r\n\r\n\t\t\t<Persons persons={filteredPersons} updatePersons={handleUpdatePersons} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}